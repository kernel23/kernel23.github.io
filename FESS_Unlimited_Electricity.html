<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Spin on Energy: An Interactive Guide to Flywheels</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #1e293b; /* slate-800 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin 10s linear infinite;
        }
        .nav-link {
            transition: color 0.3s, border-color 0.3s;
        }
        .nav-link.active, .nav-link:hover {
            color: #0891b2; /* cyan-600 */
            border-color: #0891b2;
        }
        .component-dot {
            transition: transform 0.3s, background-color 0.3s;
        }
        .component-dot:hover {
            transform: scale(1.5);
            background-color: #0891b2; /* cyan-600 */
        }
        .fade-in {
            opacity: 0;
            transition: opacity 1s ease-in-out;
            transform: translateY(20px);
            transition: opacity 1s ease-in-out, transform 1s ease-in-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-slate-50/80 backdrop-blur-lg sticky top-0 z-50 border-b border-slate-200">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="text-2xl font-bold text-cyan-700">FESS</span>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#how-it-works" class="nav-link text-slate-600 hover:text-cyan-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent">How It Works</a>
                        <a href="#technology" class="nav-link text-slate-600 hover:text-cyan-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent">Technology</a>
                        <a href="#applications" class="nav-link text-slate-600 hover:text-cyan-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent">Applications</a>
                        <a href="#future" class="nav-link text-slate-600 hover:text-cyan-600 px-3 py-2 rounded-md text-sm font-medium border-b-2 border-transparent">The Future</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <section id="hero" class="text-center py-16 lg:py-24 fade-in">
            <div class="w-24 h-24 mx-auto mb-6 flex items-center justify-center border-4 border-slate-300 rounded-full">
                <div class="w-20 h-20 border-4 border-slate-400 rounded-full animate-spin-slow flex items-center justify-center">
                     <div class="w-2 h-2 bg-cyan-500 rounded-full"></div>
                </div>
            </div>
            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight text-slate-900">The Spin on Energy</h1>
            <p class="mt-4 max-w-3xl mx-auto text-lg md:text-xl text-slate-600">An interactive exploration of Flywheel Energy Storage Systems (FESS) â€” a powerful, sustainable solution for the future of energy.</p>
        </section>

        <section id="how-it-works" class="py-16 lg:py-24 fade-in">
            <div class="text-center">
                <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">How a Flywheel Works</h2>
                <p class="mt-4 max-w-2xl mx-auto text-lg text-slate-600">A Flywheel Energy Storage System (FESS) is a "mechanical battery." It stores electricity by converting it into the kinetic energy of a spinning mass. Explore the core components of this elegant system below.</p>
            </div>
            
            <div class="mt-12 lg:mt-20 grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                <div class="lg:col-span-2 relative w-full max-w-2xl mx-auto aspect-square bg-slate-100 rounded-2xl p-8 flex items-center justify-center">
                    <div class="absolute w-full h-full top-0 left-0">
                        <div class="component-dot absolute w-4 h-4 bg-slate-500 rounded-full" style="top: 10%; left: 48%;" data-component="motor-generator"></div>
                        <div class="component-dot absolute w-4 h-4 bg-slate-500 rounded-full" style="top: 25%; left: 48%;" data-component="bearings"></div>
                        <div class="component-dot absolute w-4 h-4 bg-slate-500 rounded-full" style="top: 80%; left: 48%;" data-component="power-electronics"></div>
                        <div class="component-dot absolute w-4 h-4 bg-slate-500 rounded-full" style="top: 50%; left: 15%;" data-component="containment"></div>
                        <div class="component-dot absolute w-4 h-4 bg-slate-500 rounded-full" style="top: 50%; left: 78%;" data-component="vacuum"></div>
                        <div class="component-dot absolute w-4 h-4 bg-slate-500 rounded-full" style="top: 50%; left: 48%; transform: translate(-50%, -50%);" data-component="rotor"></div>
                    </div>

                    <div class="relative w-5/6 h-5/6 bg-slate-200 rounded-full flex items-center justify-center shadow-inner">
                        <div class="relative w-3/4 h-3/4 bg-slate-300 rounded-full flex items-center justify-center shadow-lg">
                            <div class="relative w-1/2 h-1/2 bg-white/50 rounded-full flex items-center justify-center shadow-inner">
                                <div id="flywheel-rotor-viz" class="w-3/4 h-3/4 bg-gradient-to-tr from-slate-600 to-slate-800 rounded-full shadow-2xl"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="component-info" class="p-6 bg-white rounded-2xl shadow-lg border border-slate-200 min-h-[300px]">
                    <h3 id="component-title" class="text-xl font-bold text-cyan-700">Click a dot to learn more</h3>
                    <p id="component-description" class="mt-2 text-slate-600">Each part of the flywheel system is critical for its performance, from the rotor that stores the energy to the bearings that allow it to spin with minimal friction.</p>
                </div>
            </div>
        </section>

        <section id="technology" class="py-16 lg:py-24 fade-in">
            <div class="text-center">
                <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">Technology Deep Dive</h2>
                <p class="mt-4 max-w-2xl mx-auto text-lg text-slate-600">The performance of a flywheel hinges on advanced materials and engineering. Interact with the charts below to see how materials measure up and how FESS compares to other energy storage technologies.</p>
            </div>

            <div class="mt-12 grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200">
                    <h3 class="text-xl font-bold text-slate-800">Rotor Material Comparison</h3>
                    <p class="text-slate-600 mt-1">A rotor's material determines its maximum speed and energy capacity. Higher specific strength is key.</p>
                    <div class="mt-4">
                        <select id="material-metric-selector" class="w-full p-2 border border-slate-300 rounded-md bg-slate-50 focus:ring-2 focus:ring-cyan-500">
                            <option value="strength" selected>Tensile Strength (MPa)</option>
                            <option value="specific_strength">Specific Strength (Strength/Density)</option>
                        </select>
                    </div>
                    <div class="chart-container mt-4">
                        <canvas id="rotorMaterialsChart"></canvas>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200">
                    <h3 class="text-xl font-bold text-slate-800">FESS vs. Other Technologies</h3>
                    <p class="text-slate-600 mt-1">FESS excels in power and longevity. Select technologies to compare their performance profiles.</p>
                     <div id="tech-checkboxes" class="flex flex-wrap gap-x-4 gap-y-2 mt-4 text-sm">
                     </div>
                    <div class="chart-container mt-4">
                        <canvas id="techComparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="applications" class="py-16 lg:py-24 fade-in">
            <div class="text-center">
                <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">Real-World Applications</h2>
                <p class="mt-4 max-w-2xl mx-auto text-lg text-slate-600">Thanks to their high power and long life, flywheels are ideal for a range of demanding applications, from stabilizing power grids to making transportation more efficient.</p>
            </div>

            <div id="applications-grid" class="mt-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            </div>
        </section>

        <section id="future" class="py-16 lg:py-24 fade-in">
            <div class="text-center">
                <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">The Quest for Near-Lossless Storage</h2>
                <p class="mt-4 max-w-3xl mx-auto text-lg text-slate-600">The goal of "unlimited electricity" is about pushing FESS towards perfection: near-100% efficiency and near-zero energy loss over time. This requires overcoming several key technological hurdles.</p>
            </div>
            
            <div class="mt-12 max-w-4xl mx-auto space-y-8">
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                     <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 flex flex-col justify-center">
                        <h3 class="text-xl font-bold text-slate-800 text-center">Where Does The Energy Go?</h3>
                        <p class="text-slate-600 mt-1 text-center text-sm">Minimizing these key energy losses is crucial for improving efficiency.</p>
                        <div class="chart-container h-64 max-h-64">
                            <canvas id="energyLossChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200">
                         <h3 class="text-xl font-bold text-slate-800">Research Frontiers</h3>
                         <p class="text-slate-600 mt-1 mb-4">Innovation in these areas is paving the way for the next generation of FESS.</p>
                         <ul id="research-frontiers-list" class="space-y-3"></ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-slate-300 mt-16">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <p>Interactive report generated based on source material about Flywheel Energy Storage Systems.</p>
            <p class="text-sm text-slate-400 mt-2">Designed to make complex information accessible and engaging.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        
        const data = {
            components: {
                rotor: {
                    title: "Rotor (The Flywheel)",
                    description: "The heart of the FESS. This is the spinning mass that stores kinetic energy. Modern rotors are made from high-strength, low-density materials like carbon-fiber composites to spin at incredibly high speeds (over 50,000 RPM) and maximize stored energy."
                },
                'motor-generator': {
                    title: "Motor/Generator",
                    description: "This single, integrated unit is the key to energy conversion. In 'motor mode,' it uses electricity to spin up the rotor. In 'generator mode,' the spinning rotor drives it to produce electricity. This bidirectional function makes the system highly efficient."
                },
                bearings: {
                    title: "Bearing System",
                    description: "To minimize friction, high-speed flywheels use advanced magnetic bearings. These systems levitate the rotor in a magnetic field, virtually eliminating physical contact and allowing for higher speeds, longer life, and lower energy loss compared to traditional mechanical bearings."
                },
                containment: {
                    title: "Containment Vessel",
                    description: "Safety is paramount. The entire assembly is housed in a robust containment vessel. In the unlikely event of a rotor failure, this vessel is designed to safely contain all fragments and the immense energy released."
                },
                vacuum: {
                    title: "Vacuum Chamber",
                    description: "The rotor spins inside a vacuum chamber. This is crucial for minimizing aerodynamic drag (windage loss). Without a vacuum, air resistance would create immense friction at high speeds, generating heat and rapidly draining the stored energy."
                },
                'power-electronics': {
                    title: "Power Electronics Interface (PEI)",
                    description: "The PEI is the brain of the system. It's a sophisticated set of converters and controls that manages the flow of electricity to and from the motor/generator, ensuring compatibility with the power grid and providing milli-second response times."
                }
            },
            rotorMaterials: {
                labels: ['High-Strength Steel', 'Titanium Alloy', 'GFRP', 'CFRP'],
                strength: [1350, 965, 1150, 2500],
                specific_strength: [172, 218, 605, 1563]
            },
            techComparison: {
                labels: ['Energy Density (Wh/kg)', 'Power Density (W/kg)', 'Cycle Life (log scale)', 'Round-Trip Efficiency (%)'],
                technologies: {
                    FESS: {
                        data: [50, 5000, 6, 90],
                        borderColor: '#0891b2', // cyan-600
                        backgroundColor: 'rgba(8, 145, 178, 0.2)',
                        checked: true
                    },
                    'Li-ion Batteries': {
                        data: [180, 800, 3.7, 90],
                        borderColor: '#64748b', // slate-500
                        backgroundColor: 'rgba(100, 116, 139, 0.2)',
                        checked: true
                    },
                    'Lead-Acid': {
                        data: [40, 300, 3, 80],
                        borderColor: '#94a3b8', // slate-400
                        backgroundColor: 'rgba(148, 163, 184, 0.2)',
                        checked: false
                    },
                    Supercapacitors: {
                        data: [10, 5500, 6.5, 92],
                        borderColor: '#0d9488', // teal-600
                        backgroundColor: 'rgba(13, 148, 136, 0.2)',
                        checked: false
                    }
                }
            },
            applications: [
                {
                    title: "Grid-Scale Services",
                    icon: 'âš¡ï¸',
                    description: "FESS provides rapid frequency regulation and voltage support to stabilize power grids, making them essential for integrating intermittent renewable energy sources like wind and solar."
                },
                {
                    title: "Transportation",
                    icon: 'ðŸš†',
                    description: "Used in trains, trams, and buses to capture braking energy (regenerative braking) and provide power boosts for acceleration, significantly improving fuel efficiency."
                },
                {
                    title: "Uninterruptible Power (UPS)",
                    icon: 'ðŸ’¡',
                    description: "Protects critical facilities like data centers and hospitals from power outages. Flywheels provide instantaneous 'ride-through' power until backup generators can start."
                },
                {
                    title: "EV Fast Charging",
                    icon: 'ðŸ”‹',
                    description: "Acts as a power buffer at charging stations, delivering massive bursts of power to charge EVs quickly without overwhelming the local grid infrastructure."
                },
                {
                    title: "Industrial & Military",
                    icon: 'âš™ï¸',
                    description: "Powers high-energy applications like directed energy weapons and industrial machinery, and provides reliable power for mobile microgrids in remote locations."
                },
                 {
                    title: "Aerospace",
                    icon: 'ðŸ›°ï¸',
                    description: "In satellites, flywheels can store energy and simultaneously provide attitude control (acting as momentum wheels), reducing the need for chemical propellants."
                }
            ],
            energyLosses: {
                labels: ['Bearing Friction', 'Aerodynamic Drag', 'M/G Electrical Loss', 'Power Electronics', 'Auxiliary Power'],
                data: [35, 25, 20, 15, 5]
            },
            researchFrontiers: [
                 {
                    icon: 'ðŸ§Š',
                    title: 'Superconducting Technology',
                    text: 'Using high-temperature superconductors for bearings and motor windings to achieve near-frictionless operation and eliminate electrical resistance.'
                },
                {
                    icon: 'ðŸ”¬',
                    title: 'Advanced Materials',
                    text: 'Developing next-gen composites and nanomaterials (like carbon nanotubes) with even higher strength-to-weight ratios to enable faster, more energetic rotors.'
                },
                {
                    icon: 'ðŸ’»',
                    title: 'Intelligent Control',
                    text: 'Applying AI and machine learning to optimize the entire system in real-time, minimizing losses and maximizing performance under all conditions.'
                },
                {
                    icon: 'ðŸ”Œ',
                    title: 'Wide-Bandgap Semiconductors',
                    text: 'Using materials like Silicon Carbide (SiC) in power electronics to reduce energy loss during power conversion, allowing for more efficient and compact systems.'
                }
            ]
        };

        // --- Interactive Components Section ---
        function initComponentExplorer() {
            const dots = document.querySelectorAll('.component-dot');
            const titleEl = document.getElementById('component-title');
            const descEl = document.getElementById('component-description');
            const rotorViz = document.getElementById('flywheel-rotor-viz');

            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const componentKey = dot.dataset.component;
                    const componentData = data.components[componentKey];
                    
                    titleEl.textContent = componentData.title;
                    descEl.textContent = componentData.description;

                    if (componentKey === 'rotor') {
                        rotorViz.style.animation = 'spin 2s linear infinite';
                    } else {
                         rotorViz.style.animation = '';
                    }

                    dots.forEach(d => d.classList.remove('bg-cyan-500'));
                    dot.classList.add('bg-cyan-500');
                });
            });
            document.querySelector('[data-component="rotor"]').click();
        }
        
        // --- Charting Section ---
        let rotorChart, techChart, lossChart;

        function createRotorChart() {
            const ctx = document.getElementById('rotorMaterialsChart').getContext('2d');
            rotorChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.rotorMaterials.labels,
                    datasets: [{
                        label: 'Tensile Strength (MPa)',
                        data: data.rotorMaterials.strength,
                        backgroundColor: 'rgba(8, 145, 178, 0.6)',
                        borderColor: 'rgba(8, 145, 178, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.raw.toLocaleString()}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: { color: '#e2e8f0' }
                        },
                        y: {
                           grid: { display: false }
                        }
                    }
                }
            });
        }
        
        function updateRotorChart(metric) {
            if (rotorChart) {
                if (metric === 'strength') {
                    rotorChart.data.datasets[0].data = data.rotorMaterials.strength;
                    rotorChart.data.datasets[0].label = 'Tensile Strength (MPa)';
                } else {
                    rotorChart.data.datasets[0].data = data.rotorMaterials.specific_strength;
                    rotorChart.data.datasets[0].label = 'Specific Strength (Unitless Indicator)';
                }
                rotorChart.update();
            }
        }

        function createTechChart() {
            const ctx = document.getElementById('techComparisonChart').getContext('2d');
            const initialDatasets = Object.keys(data.techComparison.technologies)
                .filter(key => data.techComparison.technologies[key].checked)
                .map(key => ({
                    label: key,
                    data: data.techComparison.technologies[key].data,
                    borderColor: data.techComparison.technologies[key].borderColor,
                    backgroundColor: data.techComparison.technologies[key].backgroundColor,
                    fill: true
                }));
            
            techChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: data.techComparison.labels,
                    datasets: initialDatasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        tooltip: {
                             callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.r !== null) {
                                        let value = context.parsed.r;
                                        if(context.label === 'Cycle Life (log scale)') {
                                            value = `>10^${value}`
                                        }
                                        label += value;
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: { color: '#e2e8f0' },
                            grid: { color: '#e2e8f0' },
                            pointLabels: {
                                font: { size: 10 },
                                color: '#475569'
                            },
                            ticks: {
                                backdropColor: '#f8fafc',
                                color: '#64748b'
                            }
                        }
                    },
                    elements: {
                        line: {
                            borderWidth: 2
                        }
                    }
                }
            });
        }

        function updateTechChart() {
            if(techChart){
                const checkedTechs = Array.from(document.querySelectorAll('#tech-checkboxes input:checked')).map(cb => cb.value);
                
                techChart.data.datasets = checkedTechs.map(key => ({
                    label: key,
                    data: data.techComparison.technologies[key].data,
                    borderColor: data.techComparison.technologies[key].borderColor,
                    backgroundColor: data.techComparison.technologies[key].backgroundColor,
                    fill: true
                }));
                techChart.update();
            }
        }
        
        function createLossChart() {
            const ctx = document.getElementById('energyLossChart').getContext('2d');
            lossChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: data.energyLosses.labels,
                    datasets: [{
                        label: 'Energy Loss Factors',
                        data: data.energyLosses.data,
                        backgroundColor: [
                            'rgba(14, 116, 144, 0.7)', // cyan-700
                            'rgba(8, 145, 178, 0.7)',   // cyan-600
                            'rgba(6, 182, 212, 0.7)',   // cyan-500
                            'rgba(103, 232, 249, 0.7)', // cyan-300
                            'rgba(207, 250, 254, 0.7)'  // cyan-100
                        ],
                        borderColor: '#f8fafc',
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                           display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.raw}%`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function populateApplications() {
            const grid = document.getElementById('applications-grid');
            if (grid) {
                grid.innerHTML = data.applications.map(app => `
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-200 transform hover:-translate-y-1 transition-transform duration-300">
                        <div class="text-4xl mb-4">${app.icon}</div>
                        <h3 class="text-xl font-bold text-slate-800">${app.title}</h3>
                        <p class="mt-2 text-slate-600">${app.description}</p>
                    </div>
                `).join('');
            }
        }
        
        function populateResearchFrontiers() {
            const list = document.getElementById('research-frontiers-list');
            if(list){
                list.innerHTML = data.researchFrontiers.map(item => `
                    <li class="flex items-start space-x-4">
                        <div class="flex-shrink-0 w-10 h-10 bg-cyan-100 text-cyan-700 rounded-lg flex items-center justify-center text-xl">${item.icon}</div>
                        <div>
                            <h4 class="font-semibold text-slate-800">${item.title}</h4>
                            <p class="text-slate-600">${item.text}</p>
                        </div>
                    </li>
                `).join('');
            }
        }
        
        function populateTechCheckboxes() {
            const container = document.getElementById('tech-checkboxes');
            if (container) {
                container.innerHTML = Object.keys(data.techComparison.technologies).map(key => `
                    <label class="inline-flex items-center">
                        <input type="checkbox" class="form-checkbox h-4 w-4 rounded text-cyan-600 focus:ring-cyan-500" value="${key}" ${data.techComparison.technologies[key].checked ? 'checked' : ''}>
                        <span class="ml-2 text-slate-700">${key}</span>
                    </label>
                `).join('');
                
                container.addEventListener('change', updateTechChart);
            }
        }

        // --- Event Listeners ---
        document.getElementById('material-metric-selector').addEventListener('change', (e) => {
            updateRotorChart(e.target.value);
        });
        
        // --- Scroll Animations & Active Nav ---
        function initScrollEffects() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
            
            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                         document.querySelectorAll('.nav-link').forEach((link) => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: "-50% 0px -50% 0px" });

            document.querySelectorAll('section[id]').forEach(section => {
                sectionObserver.observe(section);
            });
        }


        // --- Initialization ---
        initComponentExplorer();
        createRotorChart();
        populateTechCheckboxes();
        createTechChart();
        populateApplications();
        createLossChart();
        populateResearchFrontiers();
        initScrollEffects();
        
    });
    </script>
</body>
</html>
